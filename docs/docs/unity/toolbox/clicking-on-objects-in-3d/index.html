<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Clicking On Objects in 3D#Clicking on objects is a non-trivial task, despite how often we implement this behavior. Luckily, it&rsquo;s not terribly difficult.
There are two challenges:
 The mouse is in screen-space, calculated in pixel-distance away from the top-left of the screen. Objects, on the other hand, are in world-space: they have a position in the scene. Objects in 3D can overlap each other visually. How do we know which one is &ldquo;under&rdquo; the mouse, and only select it?">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Clicking On Objects in 3D" />
<meta property="og:description" content="Clicking On Objects in 3D#Clicking on objects is a non-trivial task, despite how often we implement this behavior. Luckily, it&rsquo;s not terribly difficult.
There are two challenges:
 The mouse is in screen-space, calculated in pixel-distance away from the top-left of the screen. Objects, on the other hand, are in world-space: they have a position in the scene. Objects in 3D can overlap each other visually. How do we know which one is &ldquo;under&rdquo; the mouse, and only select it?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://guidebook.hdyar.com/docs/unity/toolbox/clicking-on-objects-in-3d/" /><meta property="article:section" content="docs" />



<title>Clicking On Objects in 3D | The Guidebook</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.46181bc93375ba932026e753b37c40e6ff8bb16a9ef770c78bcc663e4577b1ba.css" integrity="sha256-RhgbyTN1upMgJudTs3xA5v&#43;LsWqe93DHi8xmPkV3sbo=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.4047cb6aa56f98747647e1058ebc525e19658b42cbb0935140c1673c81001854.js" integrity="sha256-QEfLaqVvmHR2R&#43;EFjrxSXhlli0LLsJNRQMFnPIEAGFQ=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>The Guidebook</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-21cc7f86d77b52f288b1d547e8cb9bef" class="toggle"  />
    <label for="section-21cc7f86d77b52f288b1d547e8cb9bef" class="flex justify-between">
      <a role="button" class="">Digital Media Fundamentals</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/digital-media-fundamentals/confusion-and-complexity/" class="">Confusion vs. Complexity</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/digital-media-fundamentals/creative-vs-execution/" class="">Creativity vs. Execution</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/digital-media-fundamentals/notes-on-file-management/" class="">Notes on File Management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/digital-media-fundamentals/order-of-development/" class="">Order Of Development</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-66ec1d3f591a5234d78b26bb390aa62f" class="toggle" checked />
    <label for="section-66ec1d3f591a5234d78b26bb390aa62f" class="flex justify-between">
      <a href="http://guidebook.hdyar.com/docs/unity/" class="">Unity Development</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a3091d099fec882f5485ece4e6f64eb1" class="toggle"  />
    <label for="section-a3091d099fec882f5485ece4e6f64eb1" class="flex justify-between">
      <a role="button" class="">Fundamentals</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-fundamentals/the-intro-lectures/" class="">The Intro Lectures</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-fundamentals/project-basics/" class="">Unity Project Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-fundamentals/assets/" class="">Assets</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-fundamentals/components/" class="">Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-fundamentals/builds/" class="">Creating Builds</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-fundamentals/parent-child-relationships/" class="">Parent-Child Relationships</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-989493819aad2d14ceb835eeee351713" class="toggle"  />
    <label for="section-989493819aad2d14ceb835eeee351713" class="flex justify-between">
      <a role="button" class="">Interface</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-interface/layouts/" class="">Adjusting Layouts</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-interface/game-view/" class="">The Game View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-interface/hierarchy/" class="">The Hierarchy Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/unity-interface/scene-view/" class="">The Scene View</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f07d922fb865ab705335d67667049d43" class="toggle"  />
    <label for="section-f07d922fb865ab705335d67667049d43" class="flex justify-between">
      <a href="http://guidebook.hdyar.com/docs/unity/3d-models/" class="">3D Models</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/3d-models/from-sketchfab-to-unity/" class="">From Sketchfab To Unity</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/3d-models/rig-with-mixamo/" class="">Setting up a Rig with Mixamo</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ea07a840a5b4a991a517a4629757fa50" class="toggle"  />
    <label for="section-ea07a840a5b4a991a517a4629757fa50" class="flex justify-between">
      <a role="button" class="">Virtual Reality</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0658dc3c29d418e551148f18b7f9510b" class="toggle"  />
    <label for="section-0658dc3c29d418e551148f18b7f9510b" class="flex justify-between">
      <a role="button" class="">Setup</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/setup/installing-unity/" class="">Installing Unity and an IDE</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4d55ff003c3945e025f9dcf7dab6d9fa" class="toggle" checked />
    <label for="section-4d55ff003c3945e025f9dcf7dab6d9fa" class="flex justify-between">
      <a role="button" class="">Toolbox</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/toolbox/clicking-on-objects-in-3d/" class=" active">Clicking On Objects in 3D</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/toolbox/instantiating/" class="">Instantiating GameObjects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/unity/toolbox/simple-lerp-with-coroutines/" class="">Simple LERP with Coroutines</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-57e58ca5aae968f4961a4036f314a5de" class="toggle"  />
    <label for="section-57e58ca5aae968f4961a4036f314a5de" class="flex justify-between">
      <a href="http://guidebook.hdyar.com/docs/programming/" class="">Programming in Unity</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dddf50324cced418b45884f0b4af2983" class="toggle"  />
    <label for="section-dddf50324cced418b45884f0b4af2983" class="flex justify-between">
      <a role="button" class="">Fundamentals</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/fundamentals/basic-syntax/" class="">Syntax of Variables and Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/fundamentals/conditionals/" class="">Conditionals</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/fundamentals/syntax-of-code-flow/" class="">Syntax of Code Flow</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/fundamentals/arrays/" class="">Arrays</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/fundamentals/classes-and-components/" class="">Classes and Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/fundamentals/collapsing-code/" class="">Collapsing Code Exercise</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/fundamentals/types-of-error-messages/" class="">Types of Error Messages</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fa7c038392bbf42b1f21ecaf1ee8d1bd" class="toggle"  />
    <label for="section-fa7c038392bbf42b1f21ecaf1ee8d1bd" class="flex justify-between">
      <a href="http://guidebook.hdyar.com/docs/programming/advanced/" class="">Advanced</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/advanced/object-oriented-programming/" class="">Object Oriented Programming</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/advanced/object-oriented-syntax/" class="">Object Oriented Syntax</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/advanced/static-objects-and-unity/" class="">Static Objects in C# and Unity</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6f685ca7a2fc32b73a60dd7286e62710" class="toggle"  />
    <label for="section-6f685ca7a2fc32b73a60dd7286e62710" class="flex justify-between">
      <a href="http://guidebook.hdyar.com/docs/programming/architecture/" class="">Architecture</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/architecture/the-architecture-lecture/" class="">The Architecture Lecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/architecture/simple-state-machine/" class="">A Simple State Machine</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/architecture/accessing-data/" class="">Accessing Data (from elsewhere)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/architecture/data-oriented-design-scriptable-objects/" class="">Data-Oriented Design with Scriptable Objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/architecture/event-systems/" class="">Event Systems</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/architecture/refactoring-a-basic-script-example/" class="">Refactoring a Basic Script Example</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/architecture/singleton-pattern/" class="">Singletons</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8bb48feef647b1565f2ae8cf98155c0f" class="toggle"  />
    <label for="section-8bb48feef647b1565f2ae8cf98155c0f" class="flex justify-between">
      <a href="http://guidebook.hdyar.com/docs/programming/unity-and-programming/" class="">Unity Specific Programming</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d781a33d1971ab7a88804d986cf195e7" class="toggle"  />
    <label for="section-d781a33d1971ab7a88804d986cf195e7" class="flex justify-between">
      <a role="button" class="">Tips &amp; Tricks</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/unity-and-programming/tips-and-tricks/serialization-and-attributes/" class="">Serialization and Attributes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/unity-and-programming/tips-and-tricks/string-formatting/" class="">String Formatting</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/unity-and-programming/collision-events/" class="">Collision Events</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/unity-and-programming/input-system/" class="">Input System</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://guidebook.hdyar.com/docs/programming/unity-and-programming/vectors/" class="">Vectors</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Clicking On Objects in 3D</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#going-further-only-clicking-certain-things">Going Further: Only Clicking Certain Things</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="clicking-on-objects-in-3d">
  Clicking On Objects in 3D
  <a class="anchor" href="#clicking-on-objects-in-3d">#</a>
</h1>
<p>Clicking on objects is a non-trivial task, despite how often we implement this behavior. Luckily, it&rsquo;s not terribly difficult.</p>
<p>There are two challenges:</p>
<ol>
<li>The mouse is in screen-space, calculated in pixel-distance away from the top-left of the screen. Objects, on the other hand, are in world-space: they have a position in the scene.</li>
<li>Objects in 3D can overlap each other visually. How do we know which one is &ldquo;under&rdquo; the mouse, and only select it?</li>
</ol>
<p>To solve the first challenge, we need some kind of system to go from screen space to world space. Well, that&rsquo;s the <strong>camera.</strong> Camera&rsquo;s are basically devices to convert from world space to screen space, it&rsquo;s trivial for them to go the other way too! We will get a reference to the camera so we can use functions that the camera provides.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#ff79c6">private</span> Camera cam;

<span style="color:#ff79c6">void</span> Awake(){
	cam = Camera.main;
}</code></pre></div>
<p>Now that we have that, we need to figure out when we click, and get the mouse coordinates in screen-space:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#ff79c6">void</span> Update(){
	<span style="color:#ff79c6">if</span>(Input.GetMouseButtonDown(<span style="color:#bd93f9">0</span>))
	{
		Vector3 mouseScreenPos = Input.mousePosition;
	}
}</code></pre></div></p>
<blockquote class="book-hint warning">
  It&rsquo;s considered good practice to store (aka <a href="https://en.wiktionary.org/wiki/cache">cache</a>) the &lsquo;Camera.main&rsquo; property in a local variable, because behind-the-scenes, it uses a very slow access method: FindGameObjectWithTag(&ldquo;MainCamera&rdquo;). However, in Unity 2020.2, this was <a href="https://blog.unity.com/technology/new-performance-improvements-in-unity-2020-2">fixed</a>. So  it&rsquo;s okay to use now. I&rsquo;ll still use a cached variable here so this example code remains valid for older unity versions.
</blockquote>

<p>In order to solve the second part of our challenge, we are going to use the physics system. With this solution, it means that objects we want to click on <strong>need colliders</strong>. We will create a ray that extends along the cameras point-of-view, from the mouse position, &ldquo;back&rdquo; into the scene. Using a raycast means that first thing it hits will be the closest thing to the camera.</p>
<p>We will use the cameras <a href="https://docs.unity3d.com/ScriptReference/Camera.ScreenPointToRay.html">ScreenPointToRay</a> function.</p>
<p>We also don&rsquo;t really need to store the mousePosition as a temporary Vector3 variable, lets just skip that and plug in the &ldquo;Input.mousePosition&rdquo; directly to this camera function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp">Ray ray = cam.ScreenPointToRay(Input.mousePosition);</code></pre></div>
<p>Now we need to do a <a href="https://docs.unity3d.com/ScriptReference/Physics.Raycast.html">Raycast</a>. I advise you to research Raycasts more, starting with that above documentation page. It uses a C# feature called an <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/out-parameter-modifier">&ldquo;out&rdquo; parameter modifier</a>. &ldquo;Out&rdquo; (and &ldquo;ref&rdquo;) allow a function to modify variables that it takes as parameters. That means we have the return type from the function (in this case, a boolean: did we hit anything at all), it has <em>another</em> &ldquo;returned&rdquo; value - if we did hit something, the data about it is now available in this variable. The &lsquo;out&rsquo; keyword is how we know that this function is allowed to replace the data in this variable.</p>
<p>The RaycastHit datatype is a simple data structure used to get information from the hit. Check out the information it holds in the <a href="https://docs.unity3d.com/ScriptReference/RaycastHit.html">RaycastHit scriptingAPI documentation</a>.</p>
<p>Let&rsquo;s put it all together.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#ff79c6">private</span> Camera cam;

<span style="color:#ff79c6">void</span> Awake(){
	cam = Camera.main;
}

<span style="color:#ff79c6">void</span> Update(){
	<span style="color:#ff79c6">if</span>(Input.GetMouseButtonDown(<span style="color:#bd93f9">0</span>))
	{
		Ray ray = cam.ScreenPointToRay(Input.mousePosition);
		RaycastHit hit;
		<span style="color:#ff79c6">if</span>(Physics.Raycast(ray, <span style="color:#ff79c6">out</span> hit, <span style="color:#bd93f9">100</span>))
		{
        		Debug.Log(<span style="color:#f1fa8c">&#34;clicked on &#34;</span>+hit.collider.gameObject.name);
   		}
	}
}</code></pre></div>
<h2 id="going-further-only-clicking-certain-things">
  Going Further: Only Clicking Certain Things
  <a class="anchor" href="#going-further-only-clicking-certain-things">#</a>
</h2>
<p>You can use a layer mask to dertermine what you can and cannot click on. LayerMasks are <a href="https://en.wikipedia.org/wiki/Mask_%28computing%29">bitmasks</a>, which are annoying to create by hand. If we make one that is serializable, however, it becomes trivially easy to edit in the unity inspector. The Physics.Raycast function takes a layer mask as an argument.</p>
<p>Creating a layer mask:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#50fa7b">[SerializeField]</span> <span style="color:#ff79c6">private</span> clickableLayerMask;</code></pre></div></p>
<p>Allows us to use the Inspector to select our layer(s):
<img src="/images/unity/toolbox/clickableLayerMask.png" alt="Layer Mask Property Inspector" /></p>
<p>We need to be sure to put the objects we want to select on the layers here, and objects we don&rsquo;t want to select on a different layer.</p>
<p>We can then pass this in as an argument in the Raycast funtion. The entire example code now looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#ff79c6">using</span> UnityEngine;

<span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">ClickingThings</span> : MonoBehaviour
{
	<span style="color:#ff79c6">private</span> Camera cam;
<span style="color:#50fa7b">	[SerializeField]</span> <span style="color:#ff79c6">private</span> LayerMask clickableLayerMask;
	<span style="color:#ff79c6">void</span> Awake()
	{
		cam = Camera.main;
	}
	<span style="color:#ff79c6">void</span> Update()
	{
		<span style="color:#ff79c6">if</span> (Input.GetMouseButtonDown(<span style="color:#bd93f9">0</span>))
		{
			Ray ray = cam.ScreenPointToRay(Input.mousePosition);
			RaycastHit hit;
			<span style="color:#ff79c6">if</span> (Physics.Raycast(ray, <span style="color:#ff79c6">out</span> hit, Mathf.Infinity, clickableLayerMask))
			{
				Debug.Log(<span style="color:#f1fa8c">&#34;clicked on &#34;</span> + hit.collider.gameObject.name);
			}
		}
	}
}</code></pre></div>
<blockquote class="book-hint info">
  The only other change is for the raycast distance, I replaced &ldquo;100&rdquo; with &ldquo;Mathf.Infinity&rdquo;. You probably want to limit the distance of your raycasts to something appropriate as a small optimization.
</blockquote>

</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#going-further-only-clicking-certain-things">Going Further: Only Clicking Certain Things</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












